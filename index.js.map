{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '?key=49634928-8ee73fd5b07957627ef2b531c';\n\nexport function fetchFotoCard(query) {\n  const searchParams = new URLSearchParams({\n    q: query.trim(),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}${API_KEY}&${searchParams}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n\n    return res.json();\n  });\n}","export function createMarkupGalleryCards(cards) {\n  return cards\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `\n      <li class=\"gallery-card\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n              <ul class=\"gallery-list\">\n                  <li class=\"gallery-list-info\">\n                      <p class=\"gallery-info-name\">Likes</p>\n                      <p class=\"gallery-info-value\">${likes}</p>\n                  </li>\n                  <li class=\"gallery-list-info\">\n                      <p class=\"gallery-info-name\">Views</p>\n                      <p class=\"gallery-info-value\">${views}</p>\n                  </li>\n                  <li class=\"gallery-list-info\">\n                      <p class=\"gallery-info-name\">Comments</p>\n                      <p class=\"gallery-info-value\">${comments}</p>\n                  </li>\n                  <li class=\"gallery-list-info\">\n                      <p class=\"gallery-info-name\">Downloads</p>\n                      <p class=\"gallery-info-value\">${downloads}</p>\n                  </li>\n              </ul>\n          </a>\n      </li>\n          `\n    )\n    .join('');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport { fetchFotoCard } from './js/pixabay-api';\nimport { createMarkupGalleryCards } from './js/render-functions';\n\nconst formElement = document.querySelector('.search-form');\nconst galleryElement = document.querySelector('.gallery');\nconst loaderElement = document.querySelector('.loader');\n\nconst simpleLightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nfunction handlerSearch(e) {\n  e.preventDefault();\n\n  const inputValue = document.querySelector('.search-input').value;\n  if (inputValue === '') {\n    iziToast.warning({\n      title: 'Caution',\n      message: 'Please enter a query!',\n      position: 'topRight',\n      backgroundColor: 'orange',\n      maxWidth: '300px',\n    });\n\n    return;\n  }\n  loaderElement.classList.add('active');\n\n  return fetchFotoCard(inputValue)\n    .then(data => {\n      loaderElement.classList.remove('active');\n      if (!data.total) {\n        galleryElement.innerHTML = '';\n\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: 'orange',\n          maxWidth: '600px',\n        });\n        return [];\n      }\n\n      galleryElement.innerHTML = createMarkupGalleryCards(data.hits);\n      simpleLightbox.refresh();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n}\n\nformElement.addEventListener('submit', handlerSearch);\n"],"names":["BASE_URL","API_KEY","fetchFotoCard","query","searchParams","res","createMarkupGalleryCards","cards","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formElement","galleryElement","loaderElement","simpleLightbox","SimpleLightbox","handlerSearch","e","inputValue","iziToast","data","err"],"mappings":"wvBAAA,MAAMA,EAAW,2BACXC,EAAU,0CAET,SAASC,EAAcC,EAAO,CACnC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,EAAGD,EAAM,KAAM,EACf,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,GAAGC,CAAO,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAO,CAChE,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG5B,OAAOA,EAAI,MACf,CAAG,CACH,CClBO,SAASC,EAAyBC,EAAO,CAC9C,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA;AAAA,0CAEkCL,CAAa;AAAA,8CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,sDAIlBC,CAAK;AAAA;AAAA;AAAA;AAAA,sDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,WAM1D,EACA,KAAK,EAAE,CACZ,CCjCA,MAAMC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAiB,SAAS,cAAc,UAAU,EAClDC,EAAgB,SAAS,cAAc,SAAS,EAEhDC,EAAiB,IAAIC,EAAe,aAAc,CACtD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAED,SAASC,EAAcC,EAAG,CACxBA,EAAE,eAAc,EAEhB,MAAMC,EAAa,SAAS,cAAc,eAAe,EAAE,MAC3D,GAAIA,IAAe,GAAI,CACrBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,wBACT,SAAU,WACV,gBAAiB,SACjB,SAAU,OAChB,CAAK,EAED,MACD,CACD,OAAAN,EAAc,UAAU,IAAI,QAAQ,EAE7Bf,EAAcoB,CAAU,EAC5B,KAAKE,GAAQ,CAEZ,GADAP,EAAc,UAAU,OAAO,QAAQ,EACnC,CAACO,EAAK,MACR,OAAAR,EAAe,UAAY,GAE3BO,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,SACjB,SAAU,OACpB,CAAS,EACM,GAGTP,EAAe,UAAYV,EAAyBkB,EAAK,IAAI,EAC7DN,EAAe,QAAO,CAC5B,CAAK,EACA,MAAMO,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,CAEAV,EAAY,iBAAiB,SAAUK,CAAa"}